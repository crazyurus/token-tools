<extend name="Layout/common" />
<block name="body">
    <h3>URL Encode</h3>
    <div class="well">
        <form onsubmit="return false;">
            <div class="form-group">
				<input type="text" class="form-control" id="txt_url" placeholder="http://token.team/abc123" required>
            </div>
            <button type="submit" class="btn btn-success" id="btn_url_encode"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span>编码</button>
            <button type="submit" class="btn btn-danger" id="btn_url_decode"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>解码</button>
        </form>
    </div>
    <h3>散列/哈希</h3>
    <div class="well">
        <form onsubmit="return false;" class="form-horizontal">
            <div class="form-group">
                <label class="col-sm-2 control-label">文本值：</label>
                <div class="col-sm-10">
                    <textarea class="form-control" rows="5" id="txt_hash" required></textarea>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">哈希函数：</label>
                <div class="col-sm-10">
                    <div class="btn-group" role="group" data-toggle="buttons">
                        <label class="btn btn-default">
                            <input type="radio" autocomplete="off" checked>MD5 </label>
                        <label class="btn btn-default">
                            <input type="radio" autocomplete="off">SHA1 </label>
                        <label class="btn btn-default">
                            <input type="radio" autocomplete="off">SHA256 </label>
                        <label class="btn btn-default">
                            <input type="radio" autocomplete="off">CRC32 </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">结果：</label>
                <div class="col-sm-10">
                    <textarea class="form-control" rows="3" id="txt_hash_result" readonly>哈希值</textarea>
                </div>
            </div>
            <button type="submit" class="btn btn-primary" id="btn_hash_calc"><span class="glyphicon glyphicon-print" aria-hidden="true"></span>计算</button>
        </form>
    </div>
    <h3>Base64</h3>
    <div class="well">
        <form onsubmit="return false;">
            <div class="row">
                <div class="col-sm-5">
                    <div class="form-group">
                        <textarea class="form-control" rows="12" id="txt_base64_encode"></textarea>
                    </div>
                </div>
                <div class="col-sm-2 text-center margin-top-80">
                    <p><button type="button" class="btn btn-success" id="btn_base64_encode"><span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>加密</button></p>
                    <p><button type="button" class="btn btn-danger" id="btn_base64_decode"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>解密</button></p>
                </div>
                <div class="col-sm-5">
                    <div class="form-group">
                        <textarea class="form-control" rows="12" id="txt_base64_decode"></textarea>
                    </div>
                </div>
            </div>    
        </form>
    </div>

    
</block>
<block name="script">
    <script type="text/javascript" src="__COMMON__/js/base64.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function() {
    	// URL编码
        $('#btn_url_encode').click(function() {
            var oriStr = $('#txt_url').val().trim();
            if (oriStr.match(/^\w+%3A%2F%2F/)) return;
            $('#txt_url').val(encodeURIComponent(oriStr));
        });

        // URL解码
        $('#btn_url_decode').click(function() {
            var oriStr = $('#txt_url').val().trim();
            if (oriStr.match(/^\w+:\/\//)) return;
            $('#txt_url').val(decodeURIComponent(oriStr));
        });

        // Base64编码
        $('#btn_base64_encode').click(function() {
            var oriStr = $('#txt_base64_encode').val().trim();
            $('#txt_base64_decode').val(Base64.encode(oriStr));
        });

        // Base64解码
        $('#btn_base64_decode').click(function() {
            var oriStr = $('#txt_base64_decode').val().trim();
            $('#txt_base64_encode').val(Base64.decode(oriStr));
        });

        // 计算哈希
        $("#btn_hash_calc").click(function() {

        });
    });

    </script>
</block>